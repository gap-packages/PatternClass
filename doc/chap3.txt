  
  [1X3 [33X[0;0YPermutation Encoding[133X[101X
  
  [33X[0;0YA permutation [22XÏ€=Ï€_1 ... Ï€_n[122X has rank encoding [22Xp_1 ... p_n[122X where [22Xp_i= |{j : j
  â‰¥  i,  Ï€_j  â‰¤  Ï€_i  }  |[122X.  In  other words the rank encoded permutation is a
  sequence of [22Xp_i[122X with [22X1â‰¤ iâ‰¤ n[122X, where [22Xp_i[122X is the rank of [22XÏ€_i[122X in [22X{Ï€_i,Ï€_i+1,...
  ,Ï€_n}[122X. [2][133X
  
  [33X[0;0YThe encoding of the permutation 3 2 5 1 6 7 4 8 9 is done as follows:[133X
  
        Permutation â”‚ Encoding  â”‚ Assisting list   
         325167489  â”‚     [22Xâˆ…[122X     â”‚   123456789      
         25167489   â”‚     3     â”‚    12456789      
          5167489   â”‚    32     â”‚    1456789       
          167489    â”‚    323    â”‚     146789       
           67489    â”‚   3231    â”‚     46789        
           7489     â”‚   32312   â”‚      4789        
            489     â”‚  323122   â”‚      489         
            89      â”‚  3231221  â”‚       89         
             9      â”‚ 32312211  â”‚       9          
             [22Xâˆ…[122X      â”‚ 323122111 â”‚       [22Xâˆ…[122X          
  
  [33X[0;0YDecoding a permutation is done in a similar fashion, taking the sequence [22Xp_1
  ... p_n[122X and using the reverse process will lead to the permutation [22XÏ€=Ï€_1 ...
  Ï€_n[122X,  where  [22XÏ€_i[122X  is  determined  by finding the number that has rank [22Xp_i[122X in
  [22X{Ï€_i, Ï€_i+1, ... , Ï€_n}[122X.[133X
  
  [33X[0;0YThe sequence 3 2 3 1 2 2 1 1 1 is decoded as:[133X
  
        Encoding  â”‚ Permutation â”‚ Assisting list   
        323122111 â”‚      [22Xâˆ…[122X      â”‚   123456789      
        23122111  â”‚      3      â”‚    12456789      
         3122111  â”‚     32      â”‚    1456789       
         122111   â”‚     325     â”‚     146789       
          22111   â”‚    3251     â”‚     46789        
          2111    â”‚    32516    â”‚      4789        
           111    â”‚   325167    â”‚      489         
           11     â”‚   3251674   â”‚       89         
            1     â”‚  32516748   â”‚       9          
            [22Xâˆ…[122X     â”‚  325167489  â”‚       [22Xâˆ…[122X          
  
  
  [1X3.1 [33X[0;0YEncoding and Decoding[133X[101X
  
  [1X3.1-1 RankEncoding[101X
  
  [33X[1;0Y[29X[2XRankEncoding[102X( [3Xp[103X ) [32X function[133X
  [6XReturns:[106X  [33X[0;10YA list that represents the rank encoding of the permutation [10Xp[110X.[133X
  
  [33X[0;0YUsing  the  algorithm above [10XRankEncoding[110X turns the permutation [10Xp[110X into a list
  of integers.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XRankEncoding([3, 2, 5, 1, 6, 7, 4, 8, 9]);[127X[104X
    [4X[28X[ 3, 2, 3, 1, 2, 2, 1, 1, 1 ][128X[104X
    [4X[25Xgap>[125X [27XRankEncoding([ 4, 2, 3, 5, 1 ]);                 [127X[104X
    [4X[28X[ 4, 2, 2, 2, 1 ][128X[104X
    [4X[25Xgap>[125X [27X[127X[104X
  [4X[32X[104X
  
  [1X3.1-2 RankDecoding[101X
  
  [33X[1;0Y[29X[2XRankDecoding[102X( [3Xe[103X ) [32X function[133X
  [6XReturns:[106X  [33X[0;10YA permutation in list form.[133X
  
  [33X[0;0YA  rank  encoded  permutation  is decoded by using the reversed process from
  encoding, which is also explained above.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XRankDecoding([ 3, 2, 3, 1, 2, 2, 1, 1, 1 ]);[127X[104X
    [4X[28X[ 3, 2, 5, 1, 6, 7, 4, 8, 9 ][128X[104X
    [4X[25Xgap>[125X [27XRankDecoding([ 4, 2, 2, 2, 1 ]);[127X[104X
    [4X[28X[ 4, 2, 3, 5, 1 ][128X[104X
    [4X[25Xgap>[125X [27X[127X[104X
  [4X[32X[104X
  
  [1X3.1-3 SequencesToRatExp[101X
  
  [33X[1;0Y[29X[2XSequencesToRatExp[102X( [3Xlist[103X ) [32X function[133X
  [6XReturns:[106X  [33X[0;10YA rational expression that describes all the words in [10Xlist[110X.[133X
  
  [33X[0;0YA  list  of  sequences is turned into a rational expression by concatenating
  each sequence and unifying all of them.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XSequencesToRatExp([[ 1, 1, 1, 1, 1 ],[ 2, 1, 2, 2, 1 ],[ 3, 2, 1, 2, 1 ],[127X[104X
    [4X[25X>[125X [27X[ 4, 2, 3, 2, 1 ]]);[127X[104X
    [4X[28X11111U21221U32121U42321[128X[104X
    [4X[25Xgap>[125X [27X[127X[104X
  [4X[32X[104X
  
